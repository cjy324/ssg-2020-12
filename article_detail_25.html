<!doctype html>
<html lang="en">

<head>
<script data-ad-client="ca-pub-7996879977557531" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-X5RMP83794"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-X5RMP83794');
</script>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- 구글 검색엔진 등록-소유권 확인 -->
<meta name="google-site-verification" content="37R4KcEaJU5LfiKL7GI1hu1_spJgWOazN6xy48OHhD4" />

<!-- Meta Tag & Open Graph -->
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="viewport" content="width=1200">
<meta name="apple-mobile-web-app-title" content="Dev_J BLOG" />
<!-- 메타태그정보 //-->
<!-- META -->
<link rel="canonical" href="https://blog.devj.me" />
<meta name="subject" content="P.JSP - 개발일지(아이디, 비번찾기 기능 + 암호 해시화)"/>
<meta name="title" content="Dev_J BLOG" />
<meta name="keywords" content="JAVA, HTML, CSS, JavaScript, MySQL" />
<meta name="copyright" content="Dev_J BLOG" />
<meta name="pubdate" content="2021-02-18T14:14:16" />
<meta name="lastmod" content="2021-02-18T14:14:16" />
<!-- OPENGRAPH -->
<meta property="og:site_name" content="Dev_J BLOG" />
<meta property="og:type" content="blog" />
<meta property="og:title" content="P.JSP - 개발일지(아이디, 비번찾기 기능 + 암호 해시화)" />
<meta property="og:description" content="
 아이디 찾기 비번 찾기 기능 구현

 x 로그인창에서 버튼 노출
 x 이름 또는 이메일 틀릴시 알림창 노출
 x 아이디찾기
 x 비번찾기 시 임시비번 생성 및 메일 자동 발송
    x 메일에서 로그인 바로가기
    x 임시비번으로 회원정보 자동 수정
    x 임시비번으로 로그인 가능

회원가입 시 암호 해시화
 x 회원가입시 해시화
 x 로그인시 일반 암호로 로그인 가능
br

 영상

youtube
HSkghuwxh9c

br
 주요소스코드
java

 아이디 찾기
	public String doFindLoginIdHttpServletRequest request HttpServletResponse response 
		String name  requestgetParametername
		String email  requestgetParameteremail

		Member member  memberServicegetMemberByNameAndEmailname email

		 해당 이름과 이메일주소를 가진 회원이 존재하는지 확인
		if member  null 
			requestsetAttributealertMsg 일치하는 회원이 존재하지 않습니다
			requestsetAttributehistoryBack true  historyBack 뒤로 돌아가기
			return commonredirect
		

		 로그인아이디 알림창 보여주고 로그인화면으로 이동
		requestsetAttributealertMsg name  회원님의 아이디는   membergetLoginId  입니다
		requestsetAttributereplaceUrl memberdoLoginForm
		return commonredirect
	

	 비밀번호 찾기 폼
	public String doFindLoginPwFormHttpServletRequest request HttpServletResponse response 
		return usrmemberdoFindLoginPwForm
	

	 비밀번호 찾기
	public String doFindLoginPwHttpServletRequest request HttpServletResponse response 
		String loginId  requestgetParameterloginId
		String email  requestgetParameteremail

		Member member  memberServicegetMemberByLoginIdloginId

		 해당 loginId가 등록된 id인지 확인
		if member  null 
			requestsetAttributealertMsg 일치하는 회원이 존재하지 않습니다
			requestsetAttributehistoryBack true  historyBack 뒤로 돌아가기
			return commonredirect
		

		 해당 email이 일치하는지 확인
		if membergetEmailequalsemail  false 
			requestsetAttributealertMsg 이메일주소가 일치하지 않습니다
			requestsetAttributehistoryBack true  historyBack 뒤로 돌아가기
			return commonredirect
		

		 임시 비밀번호 생성 후 회원 email로 발송
		 memberServicesendTempLoginPwToEmailmember

		 임시 비밀번호 생성 후 회원 email로 발송개선
		
		  ResultData 객체 도입으로 삭제 MapString Object sendTempLoginPwToEmailRs 
		  memberServicesendTempLoginPwToEmailmember
		  
		  String resultCode  String sendTempLoginPwToEmailRsgetresultCode
		  String resultMsg  String sendTempLoginPwToEmailRsgetresultMsg
		 

		 임시 비밀번호 생성 후 회원 email로 발송개선
		ResultData sendTempLoginPwToEmailRs  memberServicesendTempLoginPwToEmailmember

		 만약 메일 발송 실패인 경우
		 ifresultCodecontainsF 
		if sendTempLoginPwToEmailRsisFail 
			requestsetAttributealertMsg sendTempLoginPwToEmailRsgetMsg
			requestsetAttributehistoryBack true
			return commonredirect
		

		 임시패스워드 발급 알림창 보여주고 메인화면으로 이동
		requestsetAttributealertMsg sendTempLoginPwToEmailRsgetMsg
		requestsetAttributereplaceUrl homemain
		return commonredirect
	





br
 MemberServicejava

java

public ResultData sendTempLoginPwToEmailMember actor 
		 메일의 제목과 내용 생성
		String siteName  AppgetSite
		String siteLoginUrl  AppgetLoginUrl
		String title    siteName    actorgetName   회원님 임시 패스워드 발급
		String tempPassword  UtilgetTempPassword6
		String body  h1임시 패스워드    tempPassword  h1
		body  a href  siteLoginUrl   targetblank로그인하러 가기a

		 메일 발송결과를 알 수 없음
		 emailServicesendactorgetEmail title body

		 메일 발송 결과를 int값으로 받음개선
		int sendRs  emailServicesendactorgetEmail title body

		MapString Object rs  new HashMap

		  ResultData객체 도입으로 삭제
		  if sendRs  1   발송 성공인 경우 rsputresultCode S1
		  rsputresultMsg 회원님의 임시 비밀번호가   actorgetEmail  로 발송되었습니다
		  
		   회원의 패스워드를 방금 생성한 임시 패스워드로 변경 setTempPasswordactor tempPassword  else
		    발송 실패인 경우 rsputresultCode F1 rsputresultMsg
		  메일 발송에 실패했습니다
		  
		  
		  
		  
		  return rs
		 

		
		ifsendRs  1 
			return new ResultDataF1 메일 발송에 실패했습니다
		
		
		setTempPasswordactor tempPassword
		String resultMsg  회원님의 임시 비밀번호가   actorgetEmail  로 발송되었습니다
		return new ResultDataS1 resultMsg email actorgetEmail
		
	

	private void setTempPasswordMember actor String tempPassword 
		MapString Object modifyArg  new HashMap
		modifyArgputid actorgetId
		modifyArgputloginPw Utilsha256tempPassword

		attrServicesetValuemember  actorgetId  extraisUsingTempPassword 1 null
		
		modifymodifyArg
	

	public void modifyMapString Object modifyArg 
		memberDaomodifymodifyArg

	
    
 " />
<meta property="og:locale" content="ko_KR" />
<meta property="og:image" content="images/Dev_J_logo/logo.png" />
<meta property="og:image:alt" content="blog.devj.me" />
<meta property="og:image:width" content="486" />
<meta property="og:image:height" content="254" />
<meta property="og:updated_time" content="2021-02-18T14:14:16"/>
<meta property="og:pubdate" content="2021-02-18T14:14:16" />
<meta property="og:url" content="https://blog.devj.me" />
<!-- TWITTER -->
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content="P.JSP - 개발일지(아이디, 비번찾기 기능 + 암호 해시화)" />
<meta name="twitter:site" content="@Dev_J BLOG" />
<meta name="twitter:creator" content="@Dev_J BLOG" />
<meta name="twitter:image" content="images/Dev_J_logo/logo.png">
<meta name="twitter:description" content="
 아이디 찾기 비번 찾기 기능 구현

 x 로그인창에서 버튼 노출
 x 이름 또는 이메일 틀릴시 알림창 노출
 x 아이디찾기
 x 비번찾기 시 임시비번 생성 및 메일 자동 발송
    x 메일에서 로그인 바로가기
    x 임시비번으로 회원정보 자동 수정
    x 임시비번으로 로그인 가능

회원가입 시 암호 해시화
 x 회원가입시 해시화
 x 로그인시 일반 암호로 로그인 가능
br

 영상

youtube
HSkghuwxh9c

br
 주요소스코드
java

 아이디 찾기
	public String doFindLoginIdHttpServletRequest request HttpServletResponse response 
		String name  requestgetParametername
		String email  requestgetParameteremail

		Member member  memberServicegetMemberByNameAndEmailname email

		 해당 이름과 이메일주소를 가진 회원이 존재하는지 확인
		if member  null 
			requestsetAttributealertMsg 일치하는 회원이 존재하지 않습니다
			requestsetAttributehistoryBack true  historyBack 뒤로 돌아가기
			return commonredirect
		

		 로그인아이디 알림창 보여주고 로그인화면으로 이동
		requestsetAttributealertMsg name  회원님의 아이디는   membergetLoginId  입니다
		requestsetAttributereplaceUrl memberdoLoginForm
		return commonredirect
	

	 비밀번호 찾기 폼
	public String doFindLoginPwFormHttpServletRequest request HttpServletResponse response 
		return usrmemberdoFindLoginPwForm
	

	 비밀번호 찾기
	public String doFindLoginPwHttpServletRequest request HttpServletResponse response 
		String loginId  requestgetParameterloginId
		String email  requestgetParameteremail

		Member member  memberServicegetMemberByLoginIdloginId

		 해당 loginId가 등록된 id인지 확인
		if member  null 
			requestsetAttributealertMsg 일치하는 회원이 존재하지 않습니다
			requestsetAttributehistoryBack true  historyBack 뒤로 돌아가기
			return commonredirect
		

		 해당 email이 일치하는지 확인
		if membergetEmailequalsemail  false 
			requestsetAttributealertMsg 이메일주소가 일치하지 않습니다
			requestsetAttributehistoryBack true  historyBack 뒤로 돌아가기
			return commonredirect
		

		 임시 비밀번호 생성 후 회원 email로 발송
		 memberServicesendTempLoginPwToEmailmember

		 임시 비밀번호 생성 후 회원 email로 발송개선
		
		  ResultData 객체 도입으로 삭제 MapString Object sendTempLoginPwToEmailRs 
		  memberServicesendTempLoginPwToEmailmember
		  
		  String resultCode  String sendTempLoginPwToEmailRsgetresultCode
		  String resultMsg  String sendTempLoginPwToEmailRsgetresultMsg
		 

		 임시 비밀번호 생성 후 회원 email로 발송개선
		ResultData sendTempLoginPwToEmailRs  memberServicesendTempLoginPwToEmailmember

		 만약 메일 발송 실패인 경우
		 ifresultCodecontainsF 
		if sendTempLoginPwToEmailRsisFail 
			requestsetAttributealertMsg sendTempLoginPwToEmailRsgetMsg
			requestsetAttributehistoryBack true
			return commonredirect
		

		 임시패스워드 발급 알림창 보여주고 메인화면으로 이동
		requestsetAttributealertMsg sendTempLoginPwToEmailRsgetMsg
		requestsetAttributereplaceUrl homemain
		return commonredirect
	





br
 MemberServicejava

java

public ResultData sendTempLoginPwToEmailMember actor 
		 메일의 제목과 내용 생성
		String siteName  AppgetSite
		String siteLoginUrl  AppgetLoginUrl
		String title    siteName    actorgetName   회원님 임시 패스워드 발급
		String tempPassword  UtilgetTempPassword6
		String body  h1임시 패스워드    tempPassword  h1
		body  a href  siteLoginUrl   targetblank로그인하러 가기a

		 메일 발송결과를 알 수 없음
		 emailServicesendactorgetEmail title body

		 메일 발송 결과를 int값으로 받음개선
		int sendRs  emailServicesendactorgetEmail title body

		MapString Object rs  new HashMap

		  ResultData객체 도입으로 삭제
		  if sendRs  1   발송 성공인 경우 rsputresultCode S1
		  rsputresultMsg 회원님의 임시 비밀번호가   actorgetEmail  로 발송되었습니다
		  
		   회원의 패스워드를 방금 생성한 임시 패스워드로 변경 setTempPasswordactor tempPassword  else
		    발송 실패인 경우 rsputresultCode F1 rsputresultMsg
		  메일 발송에 실패했습니다
		  
		  
		  
		  
		  return rs
		 

		
		ifsendRs  1 
			return new ResultDataF1 메일 발송에 실패했습니다
		
		
		setTempPasswordactor tempPassword
		String resultMsg  회원님의 임시 비밀번호가   actorgetEmail  로 발송되었습니다
		return new ResultDataS1 resultMsg email actorgetEmail
		
	

	private void setTempPasswordMember actor String tempPassword 
		MapString Object modifyArg  new HashMap
		modifyArgputid actorgetId
		modifyArgputloginPw Utilsha256tempPassword

		attrServicesetValuemember  actorgetId  extraisUsingTempPassword 1 null
		
		modifymodifyArg
	

	public void modifyMapString Object modifyArg 
		memberDaomodifymodifyArg

	
    
 " />
<!-- GOOGLE+ -->
<meta itemprop="headline" content="Dev_J BLOG" />
<meta itemprop="name" content="Dev_J BLOG" />
<meta itemprop="description" content="
 아이디 찾기 비번 찾기 기능 구현

 x 로그인창에서 버튼 노출
 x 이름 또는 이메일 틀릴시 알림창 노출
 x 아이디찾기
 x 비번찾기 시 임시비번 생성 및 메일 자동 발송
    x 메일에서 로그인 바로가기
    x 임시비번으로 회원정보 자동 수정
    x 임시비번으로 로그인 가능

회원가입 시 암호 해시화
 x 회원가입시 해시화
 x 로그인시 일반 암호로 로그인 가능
br

 영상

youtube
HSkghuwxh9c

br
 주요소스코드
java

 아이디 찾기
	public String doFindLoginIdHttpServletRequest request HttpServletResponse response 
		String name  requestgetParametername
		String email  requestgetParameteremail

		Member member  memberServicegetMemberByNameAndEmailname email

		 해당 이름과 이메일주소를 가진 회원이 존재하는지 확인
		if member  null 
			requestsetAttributealertMsg 일치하는 회원이 존재하지 않습니다
			requestsetAttributehistoryBack true  historyBack 뒤로 돌아가기
			return commonredirect
		

		 로그인아이디 알림창 보여주고 로그인화면으로 이동
		requestsetAttributealertMsg name  회원님의 아이디는   membergetLoginId  입니다
		requestsetAttributereplaceUrl memberdoLoginForm
		return commonredirect
	

	 비밀번호 찾기 폼
	public String doFindLoginPwFormHttpServletRequest request HttpServletResponse response 
		return usrmemberdoFindLoginPwForm
	

	 비밀번호 찾기
	public String doFindLoginPwHttpServletRequest request HttpServletResponse response 
		String loginId  requestgetParameterloginId
		String email  requestgetParameteremail

		Member member  memberServicegetMemberByLoginIdloginId

		 해당 loginId가 등록된 id인지 확인
		if member  null 
			requestsetAttributealertMsg 일치하는 회원이 존재하지 않습니다
			requestsetAttributehistoryBack true  historyBack 뒤로 돌아가기
			return commonredirect
		

		 해당 email이 일치하는지 확인
		if membergetEmailequalsemail  false 
			requestsetAttributealertMsg 이메일주소가 일치하지 않습니다
			requestsetAttributehistoryBack true  historyBack 뒤로 돌아가기
			return commonredirect
		

		 임시 비밀번호 생성 후 회원 email로 발송
		 memberServicesendTempLoginPwToEmailmember

		 임시 비밀번호 생성 후 회원 email로 발송개선
		
		  ResultData 객체 도입으로 삭제 MapString Object sendTempLoginPwToEmailRs 
		  memberServicesendTempLoginPwToEmailmember
		  
		  String resultCode  String sendTempLoginPwToEmailRsgetresultCode
		  String resultMsg  String sendTempLoginPwToEmailRsgetresultMsg
		 

		 임시 비밀번호 생성 후 회원 email로 발송개선
		ResultData sendTempLoginPwToEmailRs  memberServicesendTempLoginPwToEmailmember

		 만약 메일 발송 실패인 경우
		 ifresultCodecontainsF 
		if sendTempLoginPwToEmailRsisFail 
			requestsetAttributealertMsg sendTempLoginPwToEmailRsgetMsg
			requestsetAttributehistoryBack true
			return commonredirect
		

		 임시패스워드 발급 알림창 보여주고 메인화면으로 이동
		requestsetAttributealertMsg sendTempLoginPwToEmailRsgetMsg
		requestsetAttributereplaceUrl homemain
		return commonredirect
	





br
 MemberServicejava

java

public ResultData sendTempLoginPwToEmailMember actor 
		 메일의 제목과 내용 생성
		String siteName  AppgetSite
		String siteLoginUrl  AppgetLoginUrl
		String title    siteName    actorgetName   회원님 임시 패스워드 발급
		String tempPassword  UtilgetTempPassword6
		String body  h1임시 패스워드    tempPassword  h1
		body  a href  siteLoginUrl   targetblank로그인하러 가기a

		 메일 발송결과를 알 수 없음
		 emailServicesendactorgetEmail title body

		 메일 발송 결과를 int값으로 받음개선
		int sendRs  emailServicesendactorgetEmail title body

		MapString Object rs  new HashMap

		  ResultData객체 도입으로 삭제
		  if sendRs  1   발송 성공인 경우 rsputresultCode S1
		  rsputresultMsg 회원님의 임시 비밀번호가   actorgetEmail  로 발송되었습니다
		  
		   회원의 패스워드를 방금 생성한 임시 패스워드로 변경 setTempPasswordactor tempPassword  else
		    발송 실패인 경우 rsputresultCode F1 rsputresultMsg
		  메일 발송에 실패했습니다
		  
		  
		  
		  
		  return rs
		 

		
		ifsendRs  1 
			return new ResultDataF1 메일 발송에 실패했습니다
		
		
		setTempPasswordactor tempPassword
		String resultMsg  회원님의 임시 비밀번호가   actorgetEmail  로 발송되었습니다
		return new ResultDataS1 resultMsg email actorgetEmail
		
	

	private void setTempPasswordMember actor String tempPassword 
		MapString Object modifyArg  new HashMap
		modifyArgputid actorgetId
		modifyArgputloginPw Utilsha256tempPassword

		attrServicesetValuemember  actorgetId  extraisUsingTempPassword 1 null
		
		modifymodifyArg
	

	public void modifyMapString Object modifyArg 
		memberDaomodifymodifyArg

	
    
 " />
<meta itemprop="image" content="images/Dev_J_logo/logo.png" />

<!-- 사이트 타이틀 -->
<title>P.JSP - 개발일지(아이디, 비번찾기 기능 + 암호 해시화) | Dev_J BLOG | ARTICLE DETAIL</title>


<!-- 파비콘 -->
<link rel="shortcut icon" href="images/favicon/favicon.ico" type="image/x-icon">
<link rel="icon" href="images/favicon/favicon.ico" type="image/x-icon">

<!-- 폰트어썸 불러오기 -->
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css">

<!--모바일에서도 PC와 같은 비율 유지-->
<meta name="viewport" content="width=device-width, initial-scale=1">

<!--제이쿼리-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<!-- 하이라이트 라이브러리 추가, 토스트 UI 에디터에서 사용됨 -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.4.1/highlight.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.4.1/styles/default.min.css">

<!-- 토스트 UI 에디터, 자바스크립트 코어 -->
<script
	src="https://uicdn.toast.com/editor/latest/toastui-editor-all.min.js" defer></script>

<!-- 코드 미러 라이브러리 추가, 토스트 UI 에디터에서 사용됨 -->
<link rel="stylesheet"
	href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.3/codemirror.min.css" />
<!-- 토스트 UI 에디터, CSS 코어 -->
<link rel="stylesheet"
	href="https://uicdn.toast.com/editor/latest/toastui-editor.min.css" />

<!-- 토스트 UI 에디터, 신택스 하이라이트 플러그인 추가 -->
<script src="https://uicdn.toast.com/editor-plugin-code-syntax-highlight/latest/toastui-editor-plugin-code-syntax-highlight.min.js" defer></script>

<!-- app.css 불러오기 -->
<link rel="stylesheet" href="app.css">
<!-- app.js 불러오기 -->
<script src="app.js" defer></script>
<!-- index.js 불러오기 
<script src="index.js" defer></script>
-->
</head>

<body>
<!-- 사이트 박스 시작 -->
<div class="body-content min-height-100vh flex flex-column">
  <!-- 로고바 시작 -->
  <header class="logo-bar con-min-width" id="header">
    <div class="con height-100p flex flex-jc-c" title="HOME">
      <a href="index.html" class="logo flex flex-ai-c"> 
        <img class="logo__img" src="images/Dev_J_logo/logo_transparent.png" alt="">
        <span>
          BLOG
        </span>
      </a>
    </div>
  </header>
  <!-- 로고바 끝 -->

  <!-- 메뉴바 시작-->
  <header class="menu-bar con-min-width visible-md-up">
    <div class="flex flex-jc-sb">
   	 <div class="menu-bar__status-icon" title="Menu">
      <div></div>
      <div></div>
      <div></div>
     </div>
     <a class="search-icon" title="search" href="search.html">
        <i class="fa fa-search"></i>
     </a>
   </div>
   <div class="con hide">
    <nav class="menu-bar__menu">
      <ul class="flex">
          <li title="ABOUT">
            <a href="about.html" class="block">
              <i class="far fa-address-card"></i>
              <span>ABOUT</span>
            </a>
          </li>
          <li>
            <a class="block">
              <i class="fas fa-list"></i>
              <span>ARTICLES</span>
            </a>
            <ul>
              <li title="NOTICE"><a href="notice-list-1.html" class="block"><i class="fas fa-bullhorn"></i> <span>NOTICE BOARD</span></a></li><li title="JAVA"><a href="java-list-1.html" class="block"><i class="fab fa-java"></i> <span>JAVA BOARD</span></a></li><li title="HTML"><a href="html-list-1.html" class="block"><i class="fab fa-html5"></i> <span>HTML & CSS & JS BOARD</span></a></li><li title="MYSQL"><a href="mysql-list-1.html" class="block"><i class="fas fa-database"></i> <span>MySQL BOARD</span></a></li>
            </ul>
          </li>
          <li>
            <a class="block">
              <i class="fas fa-project-diagram"></i>
              <span>PROJECT</span>
            </a>
            <ul>
              <li title="P_BLOG"><a href="p_blog-list-1.html" class="block"><i class="fab fa-blogger"></i> <span>P.BLOG PROJECT</span></a></li><li title="P_JSP"><a href="p_jsp-list-1.html" class="block"><i class="fas fa-file-word"></i> <span>P.JSP PROJECT</span></a></li>
            </ul>
          </li>
          <li>
            <a class="block">
              <i class="fas fa-link"></i>
              <span>LINK</span>
            </a>
            <ul>
              <li title="T-STORY">
                <a href="https://cjy324.tistory.com/" target="_blank" class="block">
                  <i class="fas fa-rss-square"></i>
                  <span>T-STORY</span>
                </a>
              </li>
              <li title="GITHUB">
                <a href="https://github.com/cjy324/TIL_Jooyoung#til_jooyoung" target="_blank" class="block">
                  <i class="fab fa-github"></i>
                  <span>GITHUB</span>
                </a>
              </li>
            </ul>
          </li>
          <li title="STATISTICS">
            <a href="statistics.html" class="block">
              <i class="fas fa-chart-pie"></i>
              <span>STATISTICS</span>
            </a>
          </li>
        </ul>
      </nav>
   </div>
  </header>
  <!-- 메뉴바 끝 -->
  
  <!-- 모바일 사이드 메뉴바 시작 -->
  <header class="mobile-menu-bar con-min-width visible-sm-down">
    <div class="flex flex-jc-sb">
   <div class="mobile-menu-bar__status-icon" title="Menu">
     <div></div>
     <div></div>
     <div></div>
   </div>
    <a class="search-icon" title="search" href="search.html">
        <i class="fa fa-search"></i>
      </a>
   </div>
   <div class="con ">
    <aside class="mobile-side-bar flex flex-column flex-jc-c ">
      <div class="mobile-side-bar_X"><i class="fas fa-times"></i></div>
      <span>MENU</span>
      <nav class="mobile-side-bar_menu flex flex-jc-c">
      <ul class="">
          <li title="ABOUT">
            <a href="about.html" class="block">
              <i class="far fa-address-card"></i>
              <span>ABOUT</span>
            </a>
          </li>
          <li>
            <a class="block">
              <i class="fas fa-list"></i>
              <span>ARTICLES</span>
            </a>
            <ul class="hide2">
              <li title="NOTICE"><a href="notice-list-1.html" class="block"><i class="fas fa-bullhorn"></i> <span>NOTICE BOARD</span></a></li><li title="JAVA"><a href="java-list-1.html" class="block"><i class="fab fa-java"></i> <span>JAVA BOARD</span></a></li><li title="HTML"><a href="html-list-1.html" class="block"><i class="fab fa-html5"></i> <span>HTML & CSS & JS BOARD</span></a></li><li title="MYSQL"><a href="mysql-list-1.html" class="block"><i class="fas fa-database"></i> <span>MySQL BOARD</span></a></li>
            </ul>
          </li>
          <li>
            <a class="block">
              <i class="fas fa-project-diagram"></i>
              <span>PROJECT</span>
            </a>
            <ul class="hide2">
              <li title="P_BLOG"><a href="p_blog-list-1.html" class="block"><i class="fab fa-blogger"></i> <span>P.BLOG PROJECT</span></a></li><li title="P_JSP"><a href="p_jsp-list-1.html" class="block"><i class="fas fa-file-word"></i> <span>P.JSP PROJECT</span></a></li>
            </ul>
          </li>
          <li>
            <a class="block">
              <i class="fas fa-link"></i>
              <span>LINK</span>
            </a>
            <ul class="hide2">
              <li title="T-STORY">
                <a href="https://cjy324.tistory.com/" target="_blank" class="block">
                  <i class="fas fa-rss-square"></i>
                  <span>T-STORY</span>
                </a>
              </li>
              <li title="GITHUB">
                <a href="https://github.com/cjy324/TIL_Jooyoung#til_jooyoung" target="_blank" class="block">
                  <i class="fab fa-github"></i>
                  <span>GITHUB</span>
                </a>
              </li>
            </ul>
          </li>
          <li title="STATISTICS">
            <a href="statistics.html" class="block">
              <i class="fas fa-chart-pie"></i>
              <span>STATISTICS</span>
            </a>
          </li>
        </ul>
      </nav>  
      </aside>
   </div>
  </header>
  
  <!-- 모바일 사이드 메뉴바 끝 --> 
   

  <!-- 메인 컨텐츠 박스 시작 -->
  <main class="main-box flex-grow-1">
  <section class="main-box-section con-min-width">
   <!-- 메인-타이틀바 시작 -->
	<div class="title-bar con-min-width">
		<h1 class="con">
			<i class="fas fa-file-invoice"></i> <span>ARTICLE</span>
		</h1>
	</div>
   <!-- 메인-타이틀바 종료 -->
<!-- Progress-bar -->
<script type="text/javascript"
	src="https://rawcdn.githack.com/mburakerman/prognroll/0feda211643153bce2c69de32ea1b39cdc64ffbe/src/prognroll.js"></script>
<script type="text/javascript">
	$(function() {
		$("body").prognroll({
			height : 10,
			color : "#666666"
		});
		$(".content").prognroll({
			custom : true
		});
	});
</script>

<!-- 메인-상세페이지 시작 -->
<section class="section-2 con-min-width min-height-50vh">
	<div class="con height-100p">
		<div class="article-detail-cell height-100p">
			<div class="article-detail-cell__board-name"><div><span>게시판 : </span><span>P.JSP 게시판</span></div></div><div class="article-detail-cell__id"><div><span>번호 : </span><span>25</span></div></div><div class="article-detail-cell__member-id"><div><span>작성자 : </span><span>Dev_J</span></div></div><div class="article-detail-cell__reg-date"><div><span>작성일 : </span><span>2021-01-28 22:12:17</span></div></div><div class="article-detail-cell__update-date"><div><span>수정일 : </span><span>2021-02-18 14:14:10</span></div></div><br><div class="article-detail-cell__title-contents flex flex-jc-fe"><div class="article-detail-cell__hitsCount"><div><span>조회수 : </span><span>0</span></div></div><div class="article-detail-cell__likesCount"><div><span>추천수 : </span><span>0</span></div></div><div class="article-detail-cell__commentsCount"><div><span>댓글수 : </span><span>0</span></div></div></div><div class="article-detail-cell__title"><div><span>제목 : </span><span>P.JSP - 개발일지(아이디, 비번찾기 기능 + 암호 해시화)</span></div></div><!-- 구글 애드센스2 --><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><!-- 수평 반응형2 --><ins class="adsbygoogle" style="display: block" data-ad-client="ca-pub-7996879977557531" data-ad-slot="2278060237" data-ad-format="auto" data-full-width-responsive="true"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script><script type"text/x-template">
# 아이디 찾기, 비번 찾기 기능 구현

- [x] 로그인창에서 버튼 노출
- [x] 이름 또는 이메일 틀릴시 알림창 노출
- [x] 아이디찾기
- [x] 비번찾기 시 임시비번 생성 및 메일 자동 발송
   - [x] 메일에서 로그인 바로가기
   - [x] 임시비번으로 회원정보 자동 수정
   - [x] 임시비번으로 로그인 가능

+회원가입 시 암호 해시화
- [x] 회원가입시 해시화
- [x] 로그인시 일반 암호로 로그인 가능
<br>

## 영상

```youtube
HSkghuwxh9c
```
<br>
## 주요소스코드
```java

// 아이디 찾기
	public String doFindLoginId(HttpServletRequest request, HttpServletResponse response) {
		String name = request.getParameter("name");
		String email = request.getParameter("email");

		Member member = memberService.getMemberByNameAndEmail(name, email);

		// 해당 이름과 이메일주소를 가진 회원이 존재하는지 확인
		if (member == null) {
			request.setAttribute("alertMsg", "일치하는 회원이 존재하지 않습니다.");
			request.setAttribute("historyBack", true); // historyBack: 뒤로 돌아가기
			return "common/redirect";
		}

		// 로그인아이디 알림창 보여주고 로그인화면으로 이동
		request.setAttribute("alertMsg", name + "회원님의 아이디는 \"" + member.getLoginId() + "\"입니다.");
		request.setAttribute("replaceUrl", "../member/doLoginForm");
		return "common/redirect";
	}

	// 비밀번호 찾기 폼
	public String doFindLoginPwForm(HttpServletRequest request, HttpServletResponse response) {
		return "usr/member/doFindLoginPwForm";
	}

	// 비밀번호 찾기
	public String doFindLoginPw(HttpServletRequest request, HttpServletResponse response) {
		String loginId = request.getParameter("loginId");
		String email = request.getParameter("email");

		Member member = memberService.getMemberByLoginId(loginId);

		// 해당 loginId가 등록된 id인지 확인
		if (member == null) {
			request.setAttribute("alertMsg", "일치하는 회원이 존재하지 않습니다.");
			request.setAttribute("historyBack", true); // historyBack: 뒤로 돌아가기
			return "common/redirect";
		}

		// 해당 email이 일치하는지 확인
		if (member.getEmail().equals(email) == false) {
			request.setAttribute("alertMsg", "이메일주소가 일치하지 않습니다.");
			request.setAttribute("historyBack", true); // historyBack: 뒤로 돌아가기
			return "common/redirect";
		}

		// 임시 비밀번호 생성 후 회원 email로 발송
		// memberService.sendTempLoginPwToEmail(member);

		// 임시 비밀번호 생성 후 회원 email로 발송(개선)
		/*
		 * //ResultData 객체 도입으로 삭제 Map<String, Object> sendTempLoginPwToEmailRs =
		 * memberService.sendTempLoginPwToEmail(member);
		 * 
		 * String resultCode = (String) sendTempLoginPwToEmailRs.get("resultCode");
		 * String resultMsg = (String) sendTempLoginPwToEmailRs.get("resultMsg");
		 */

		// 임시 비밀번호 생성 후 회원 email로 발송(개선)
		ResultData sendTempLoginPwToEmailRs = memberService.sendTempLoginPwToEmail(member);

		/// 만약 메일 발송 실패인 경우
		// if(resultCode.contains("F")) {
		if (sendTempLoginPwToEmailRs.isFail()) {
			request.setAttribute("alertMsg", sendTempLoginPwToEmailRs.getMsg());
			request.setAttribute("historyBack", true);
			return "common/redirect";
		}

		// 임시패스워드 발급 알림창 보여주고 메인화면으로 이동
		request.setAttribute("alertMsg", sendTempLoginPwToEmailRs.getMsg());
		request.setAttribute("replaceUrl", "../home/main");
		return "common/redirect";
	}


```


<br>
## MemberService.java

```java

public ResultData sendTempLoginPwToEmail(Member actor) {
		// 메일의 제목과 내용 생성
		String siteName = App.getSite();
		String siteLoginUrl = App.getLoginUrl();
		String title = "[" + siteName + "]" + actor.getName() + " 회원님, 임시 패스워드 발급";
		String tempPassword = Util.getTempPassword(6);
		String body = "<h1>임시 패스워드 : " + tempPassword + "</h1>";
		body += "<a href=\"" + siteLoginUrl + "\" target=\"_blank\">로그인하러 가기</a>";

		// 메일 발송(결과를 알 수 없음)
		// emailService.send(actor.getEmail(), title, body);

		// 메일 발송 결과를 int값으로 받음(개선)
		int sendRs = emailService.send(actor.getEmail(), title, body);

		//Map<String, Object> rs = new HashMap<>();

		/*  //ResultData객체 도입으로 삭제
		 * if (sendRs == 1) { // 발송 성공인 경우 rs.put("resultCode", "S-1");
		 * rs.put("resultMsg", "회원님의 임시 비밀번호가 \"" + actor.getEmail() + "\"로 발송되었습니다.");
		 * 
		 * // 회원의 패스워드를 방금 생성한 임시 패스워드로 변경 setTempPassword(actor, tempPassword); } else
		 * { // 발송 실패인 경우 rs.put("resultCode", "F-1"); rs.put("resultMsg",
		 * "메일 발송에 실패했습니다.");
		 * 
		 * }
		 * 
		 * 
		 * return rs;
		 */

		
		if(sendRs != 1) {
			return new ResultData("F-1", "메일 발송에 실패했습니다.");
		}
		
		setTempPassword(actor, tempPassword);
		String resultMsg = "회원님의 임시 비밀번호가 \"" + actor.getEmail() + "\"로 발송되었습니다.";
		return new ResultData("S-1", resultMsg, "email", actor.getEmail());
		
	}

	private void setTempPassword(Member actor, String tempPassword) {
		Map<String, Object> modifyArg = new HashMap<>();
		modifyArg.put("id", actor.getId());
		modifyArg.put("loginPw", Util.sha256(tempPassword));

	//	attrService.setValue("member__" + actor.getId() + "__extra__isUsingTempPassword", "1", null);
		
		modify(modifyArg);
	}

	public void modify(Map<String, Object> modifyArg) {
		memberDao.modify(modifyArg);

	}
    
 ```</script><div class="article-detail-cell__body height-70p toast-ui-viewer"><div></div></div><br><div class="article-detail-cell__tag flex flex-wrap"><nav># <a href="#" target="_blank">project</a></nav><nav># <a href="#" target="_blank">개발일지</a></nav><nav># <a href="#" target="_blank">JSP</a></nav></div><br><br><!-- 구글 애드센스1 --><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script><!-- 수평 반응형1 --><ins class="adsbygoogle" style="display: block" data-ad-client="ca-pub-7996879977557531" data-ad-slot="6812185708" data-ad-format="auto" data-full-width-responsive="true"></ins><script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
			<!-- Disqus api 적용 -->
			<!-- 정확한 페이지 경로 알려주는 기능 추가-->
			<nav>
				<div id="disqus_thread"></div>
				<script>
					var disqus_config = function() {
						this.page.url = 'https://blog.devj.me/article_detail_25.html';
						this.page.identifier = 'article_detail_25.html';
					};
					(function() {
						//DON'T EDIT BELOW THIS LINE
						var d = document, s = d.createElement('script');
						s.src = 'https://devj-blog.disqus.com/embed.js';
						s.setAttribute('data-timestamp', +new Date());
						(d.head || d.body).appendChild(s);
					})();
				</script>
				<noscript>
					Please enable JavaScript to view the
					<a href="https://disqus.com/?ref_noscript">comments powered by
						Disqus.</a>
				</noscript>
			</nav>
		</div>
	</div>
</section>
<!-- 메인-상세페이지 끝 -->
<!-- 메인-상세 하단 메뉴 시작 -->
<section class="section-3 con-min-width">
	<div class="con">
		<div class="article-list-bottom-cell flex flex-jc-c"><div class="./"><a href="article_detail_24.html" class="hover-underline">&lt 이전글</a></div><div class="./"><i class="fas fa-th-list"></i><a href="p_jsp-list-1.html" class="hover-underline"> 목록 </a></div><div class="./"><a href="article_detail_26.html"class="hover-underline">다음글 &gt</a></div></div>
	</div>
</section>
<!-- 메인-상세 하단 메뉴 끝 -->
</section>
</main>
<!-- 메인 컨텐츠 박스 끝 -->
  <!-- 맨 위 버튼 시작 -->
  <nav class="top-button flex flex-jc-c flex-ai-c">
    <div class="">
      <a href="#header">▲ TOP</a> 
    </div>     
  </nav>
  <!-- 맨 위 버튼 끝 -->


  <!-- 푸터 시작 -->
  <footer class="bottom-bar con-min-width">
    <div class="con flex flex-ai-c">
      <a href="index.html" class="logo logo--mini flex flex-ai-c" title="HOME">
        <img class="logo--mini__img" src="images/Dev_J_logo/logo_transparent.png" alt="">
      </a>
      <div class="bottom-bar__site-info">
        <span><i class="far fa-envelope"></i> juy32400@gmail.com</span>
        <br>
        <br>
        <span>COPYRIGHT 2020. Dev_J. All rights reserved.</span>
      </div>
    </div>
  </footer>
  <!-- 푸터 끝 -->
</div>
<!-- 사이트 박스 끝 -->
</body>
</html>